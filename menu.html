<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Restaurant Menu – Order Availability</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #1d4ed8 0, #020617 55%);
      color: #e5e7eb;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    header {
      padding: 18px 20px;
      border-bottom: 1px solid rgba(148, 163, 184, 0.3);
      display: flex;
      justify-content: space-between;
      align-items: center;
      backdrop-filter: blur(8px);
      background: linear-gradient(to right, rgba(15, 23, 42, 0.9), rgba(15, 23, 42, 0.7));
    }

    header h1 {
      font-size: 1.6rem;
      font-weight: 700;
      letter-spacing: 0.05em;
    }

    header p {
      font-size: 0.9rem;
      color: #cbd5f5;
      margin-top: 4px;
    }

    .status-pill {
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      font-size: 0.8rem;
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .status-dot {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: #22c55e;
    }

    main {
      flex: 1;
      padding: 18px 20px 26px;
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .controls-bar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 10px;
      font-size: 0.85rem;
      color: #cbd5f5;
    }

    .view-toggle {
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .view-toggle select {
      padding: 4px 8px;
      border-radius: 999px;
      border: 1px solid rgba(148, 163, 184, 0.7);
      background: rgba(15, 23, 42, 0.9);
      color: #e5e7eb;
      font-size: 0.8rem;
    }

    .search-box {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .search-box input {
      padding: 6px 10px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.9);
      border: 1px solid rgba(148, 163, 184, 0.7);
      color: #e5e7eb;
      font-size: 0.85rem;
      min-width: 220px;
      outline: none;
    }

    .search-box input:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 1px rgba(59, 130, 246, 0.8);
    }

    .menu-grid {
      margin-top: 8px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 14px;
    }

    .menu-card {
      background: rgba(15, 23, 42, 0.94);
      border-radius: 16px;
      padding: 12px 14px 12px;
      border: 1px solid rgba(30, 64, 175, 0.8);
      box-shadow: 0 16px 40px rgba(15, 23, 42, 0.8);
      display: flex;
      flex-direction: column;
      gap: 6px;
      position: relative;
    }

    .menu-card-header {
      display: flex;
      justify-content: space-between;
      gap: 8px;
      align-items: center;
    }

    .menu-name {
      font-weight: 600;
      font-size: 1rem;
    }

    .menu-price {
      font-weight: 600;
      color: #facc15;
      font-size: 0.95rem;
    }

    .menu-meta {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .category-pill {
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid rgba(129, 140, 248, 0.9);
      color: #c7d2fe;
      font-size: 0.75rem;
    }

    .menu-description {
      font-size: 0.82rem;
      color: #d1d5db;
      margin-top: 2px;
      margin-bottom: 4px;
    }

    /* Availability switch */
    .availability-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 6px;
      gap: 10px;
    }

    .availability-label {
      font-size: 0.8rem;
      color: #cbd5f5;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .availability-label span.status-text {
      font-weight: 500;
    }

    .badge-available,
    .badge-unavailable {
      font-size: 0.7rem;
      padding: 2px 8px;
      border-radius: 999px;
      border: 1px solid;
    }

    .badge-available {
      background: rgba(22, 163, 74, 0.15);
      border-color: #22c55e;
      color: #bbf7d0;
    }

    .badge-unavailable {
      background: rgba(127, 29, 29, 0.45);
      border-color: #f97373;
      color: #fee2e2;
    }

    .switch {
      position: relative;
      width: 44px;
      height: 24px;
      display: inline-block;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      inset: 0;
      background-color: #4b5563;
      transition: 0.2s;
      border-radius: 999px;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 18px;
      width: 18px;
      left: 3px;
      bottom: 3px;
      background-color: white;
      transition: 0.2s;
      border-radius: 50%;
    }

    .switch input:checked + .slider {
      background-color: #22c55e;
    }

    .switch input:checked + .slider:before {
      transform: translateX(20px);
    }

    .dimmed {
      opacity: 0.4;
    }

    footer {
      padding: 8px 16px 14px;
      font-size: 0.8rem;
      color: #9ca3af;
      text-align: right;
    }
  </style>
</head>
<body>
  <header>
    <div>
      <h1>Starlight Bistro – Menu</h1>
      <p>Toggle each dish to show whether it’s currently available to order.</p>
    </div>
    <div class="status-pill">
      <span class="status-dot"></span>
      Order availability control
    </div>
  </header>

  <main>
    <div class="controls-bar">
      <div class="view-toggle">
        <span>Show:</span>
        <select id="filter-select">
          <option value="all">All items</option>
          <option value="available">Available only</option>
          <option value="unavailable">Unavailable only</option>
        </select>
      </div>

      <div class="search-box">
        <span>Search:</span>
        <input type="text" id="search-input" placeholder="Type a dish or category..." />
      </div>
    </div>

    <div class="menu-grid" id="menu-grid">
      <!-- Cards rendered by JavaScript -->
    </div>
  </main>

  <footer>
    Changes are stored in your browser only (no server).
  </footer>

  <script>
    // Sample menu data
    let menuItems = [
      {
        id: "1",
        name: "Garlic Parmesan Fries",
        price: 7.5,
        category: "Appetizer",
        description: "Crispy fries tossed with garlic, parsley, and parmesan cheese.",
        available: true,
      },
      {
        id: "2",
        name: "Classic Cheeseburger",
        price: 13.0,
        category: "Main",
        description: "Beef patty, cheddar, lettuce, tomato, house sauce, brioche bun.",
        available: true,
      },
      {
        id: "3",
        name: "Grilled Salmon",
        price: 18.5,
        category: "Main",
        description: "Served with lemon herb butter and seasonal vegetables.",
        available: false,
      },
      {
        id: "4",
        name: "Margherita Pizza",
        price: 14.0,
        category: "Main",
        description: "Tomato, fresh mozzarella, basil, olive oil.",
        available: true,
      },
      {
        id: "5",
        name: "Chocolate Lava Cake",
        price: 8.0,
        category: "Dessert",
        description: "Warm chocolate cake with a molten center and vanilla ice cream.",
        available: true,
      },
      {
        id: "6",
        name: "Iced Caramel Latte",
        price: 5.25,
        category: "Drink",
        description: "Espresso, milk, caramel syrup served over ice.",
        available: false,
      },
    ];

    const grid = document.getElementById("menu-grid");
    const filterSelect = document.getElementById("filter-select");
    const searchInput = document.getElementById("search-input");

    // Optional: persist availability in localStorage
    const STORAGE_KEY = "restaurant-menu-availability";

    function loadAvailabilityFromStorage() {
      const raw = localStorage.getItem(STORAGE_KEY);
      if (!raw) return;
      try {
        const saved = JSON.parse(raw);
        menuItems = menuItems.map((item) => {
          if (saved[item.id] !== undefined) {
            return { ...item, available: saved[item.id] };
          }
          return item;
        });
      } catch (e) {
        console.warn("Failed to load saved availability:", e);
      }
    }

    function saveAvailabilityToStorage() {
      const map = {};
      menuItems.forEach((item) => {
        map[item.id] = item.available;
      });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(map));
    }

    function formatPrice(price) {
      const num = Number(price);
      if (isNaN(num)) return "$0.00";
      return "$" + num.toFixed(2);
    }

    function matchesFilters(item) {
      const filterValue = filterSelect.value;
      const query = searchInput.value.trim().toLowerCase();

      if (filterValue === "available" && !item.available) return false;
      if (filterValue === "unavailable" && item.available) return false;

      if (!query) return true;

      return (
        item.name.toLowerCase().includes(query) ||
        item.category.toLowerCase().includes(query) ||
        (item.description && item.description.toLowerCase().includes(query))
      );
    }

    function renderMenu() {
      grid.innerHTML = "";

      const filteredItems = menuItems.filter(matchesFilters);

      if (filteredItems.length === 0) {
        const empty = document.createElement("div");
        empty.style.gridColumn = "1 / -1";
        empty.style.textAlign = "center";
        empty.style.padding = "16px";
        empty.style.fontSize = "0.9rem";
        empty.style.color = "#cbd5f5";
        empty.textContent = "No menu items match your filters.";
        grid.appendChild(empty);
        return;
      }

      filteredItems.forEach((item) => {
        const card = document.createElement("article");
        card.className = "menu-card" + (item.available ? "" : " dimmed");

        const header = document.createElement("div");
        header.className = "menu-card-header";

        const name = document.createElement("div");
        name.className = "menu-name";
        name.textContent = item.name;

        const price = document.createElement("div");
        price.className = "menu-price";
        price.textContent = formatPrice(item.price);

        header.appendChild(name);
        header.appendChild(price);

        const description = document.createElement("p");
        description.className = "menu-description";
        description.textContent = item.description;

        const meta = document.createElement("div");
        meta.className = "menu-meta";

        const category = document.createElement("span");
        category.className = "category-pill";
        category.textContent = item.category;

        const statusBadge = document.createElement("span");
        statusBadge.className = item.available ? "badge-available" : "badge-unavailable";
        statusBadge.textContent = item.available ? "Available" : "Unavailable";

        meta.appendChild(category);
        meta.appendChild(statusBadge);

        const availabilityRow = document.createElement("div");
        availabilityRow.className = "availability-row";

        const label = document.createElement("div");
        label.className = "availability-label";

        const labelText = document.createElement("span");
        labelText.textContent = "Order availability:";
        const statusText = document.createElement("span");
        statusText.className = "status-text";
        statusText.textContent = item.available ? "Can be ordered" : "Temporarily unavailable";

        label.appendChild(labelText);
        label.appendChild(statusText);

        const switchWrap = document.createElement("label");
        switchWrap.className = "switch";

        const checkbox = document.createElement("input");
        checkbox.type = "checkbox";
        checkbox.checked = item.available;

        const slider = document.createElement("span");
        slider.className = "slider";

        checkbox.addEventListener("change", () => {
          item.available = checkbox.checked;
          saveAvailabilityToStorage();
          renderMenu();
        });

        switchWrap.appendChild(checkbox);
        switchWrap.appendChild(slider);

        availabilityRow.appendChild(label);
        availabilityRow.appendChild(switchWrap);

        card.appendChild(header);
        card.appendChild(description);
        card.appendChild(meta);
        card.appendChild(availabilityRow);

        grid.appendChild(card);
      });
    }

    // Event listeners
    filterSelect.addEventListener("change", renderMenu);
    searchInput.addEventListener("input", renderMenu);

    // Init
    loadAvailabilityFromStorage();
    renderMenu();
  </script>
</body>
</html>

